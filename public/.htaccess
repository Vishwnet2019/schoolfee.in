Options -Indexes
RewriteEngine On

# Force HTTPS and non-www
RewriteCond %{HTTPS} !=on [OR]
RewriteCond %{HTTP_HOST} ^www\. [NC]
RewriteRule ^ https://schoolfee.in%{REQUEST_URI} [L,R=301]

# Redirect .html to clean URL
RewriteCond %{THE_REQUEST} \s/([^.]+)\.html [NC]
RewriteRule ^ %1/ [R=301,L]

# If file or directory exists, serve it
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# If request is not a real file, check if Next.js route exists (SPA)
RewriteRule ^ index.html [L]

# Custom 404
ErrorDocument 404 /404.html

